<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Multi Mode Solver</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen">

  <!-- Navbar / Hamburger -->
  <div class="p-4 flex items-center">
    <button onclick="toggleMenu()" class="text-2xl mr-4">&#9776;</button>
    <h1 class="text-xl font-bold">Multi Mode Solver</h1>
  </div>

  <!-- Menu Dropdown -->
  <div id="menu" class="hidden bg-gray-800 text-white px-4 py-2">
    <button onclick="showMode('kolom')" class="block w-full text-left py-1 hover:text-yellow-400">ğŸ”¢ Hitung Kolom</button>
    <button onclick="showMode('vektor')" class="block w-full text-left py-1 hover:text-yellow-400">ğŸ“ Vector Solver</button>
  </div>

  <!-- MODE: Hitung Kolom -->
  <div id="mode-kolom" class="p-4">
    <h2 class="text-2xl font-semibold mb-4">ğŸ”¢ Sistem Hitung Kolom</h2>

    <label>Masukkan bilangan (pisahkan dengan koma):</label><br/>
    <input type="text" id="inputBilangan" class="w-full p-2 mb-2 bg-gray-800 border border-gray-600 rounded" placeholder="Contoh: 2,3,4,5,6"/>

    <label>Masukkan jumlah kolom:</label><br/>
    <input type="number" id="inputKolom" class="w-full p-2 mb-2 bg-gray-800 border border-gray-600 rounded" placeholder="Contoh: 3"/>

    <button onclick="hitung()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">Hitung</button>

    <div class="mt-4 bg-gray-800 p-4 rounded" id="output"></div>
  </div>

  <!-- MODE: Vector Solver -->
  <div id="mode-vektor" class="hidden p-4">
    <h2 class="text-2xl font-semibold mb-4">ğŸ“ Vector Solver</h2>

    <label>i (x):</label>
    <input id="iVal" type="number" class="w-full p-2 mb-2 bg-gray-800 border border-gray-600 rounded" placeholder="contoh: 1"/>

    <label>j (y):</label>
    <input id="jVal" type="number" class="w-full p-2 mb-2 bg-gray-800 border border-gray-600 rounded" placeholder="contoh: 4"/>

    <label>k (z):</label>
    <input id="kVal" type="number" class="w-full p-2 mb-2 bg-gray-800 border border-gray-600 rounded" placeholder="contoh: 0"/>

    <button onclick="solveVector()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded">Hitung Panjang Vektor</button>

    <div class="mt-4 bg-gray-800 p-4 rounded">
      <p class="font-semibold">Langkah Perhitungan:</p>
      <pre id="steps" class="mt-2 font-mono whitespace-pre-line">â€“</pre>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    function toggleMenu() {
      const menu = document.getElementById("menu");
      menu.classList.toggle("hidden");
    }

    function showMode(mode) {
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("mode-kolom").classList.add("hidden");
      document.getElementById("mode-vektor").classList.add("hidden");

      if (mode === "kolom") {
        document.getElementById("mode-kolom").classList.remove("hidden");
      } else if (mode === "vektor") {
        document.getElementById("mode-vektor").classList.remove("hidden");
      }
    }

    function hitung() {
      const angkaInput = document.getElementById("inputBilangan").value;
      const kolom = parseInt(document.getElementById("inputKolom").value);
      const angkaArray = angkaInput.split(',').map(a => parseInt(a.trim())).filter(a => !isNaN(a));
      const jumlahAngka = angkaArray.length;

      if (jumlahAngka === 0 || isNaN(kolom) || kolom <= 0) {
        document.getElementById("output").innerHTML = "<p>âŒ Input tidak valid.</p>";
        return;
      }

      const hasil1 = Math.pow(jumlahAngka, kolom);
      let box1 = "";
      for (let i = 0; i < kolom; i++) {
        box1 += `<div class='inline-block px-3 py-1 m-1 bg-gray-700 border border-gray-500 rounded'>${jumlahAngka}</div>`;
      }
      const perkalian1 = Array(kolom).fill(jumlahAngka).join(" x ");

      let hasil2 = 1;
      let box2 = "";
      let faktorArr = [];
      for (let i = 0; i < kolom; i++) {
        let val = jumlahAngka - i;
        if (val <= 0) {
          hasil2 = 0;
          break;
        }
        hasil2 *= val;
        faktorArr.push(val);
        box2 += `<div class='inline-block px-3 py-1 m-1 bg-gray-700 border border-gray-500 rounded'>${val}</div>`;
      }

      const outputHTML = `
        <p>Jumlah bilangan: <strong>${jumlahAngka}</strong></p>
        <p>Jumlah kolom: <strong>${kolom}</strong></p>

        <p><strong>Mode 1 (boleh diulang):</strong></p>
        ${box1}<br/>
        <strong>${perkalian1} = ${hasil1}</strong><br/><br/>

        <p><strong>Mode 2 (tidak boleh diulang):</strong></p>
        ${box2}<br/>
        <strong>${faktorArr.join(" x ")} = ${hasil2}</strong>
      `;

      document.getElementById("output").innerHTML = outputHTML;
    }

    function solveVector() {
      const i = parseFloat(document.getElementById("iVal").value) || 0;
      const j = parseFloat(document.getElementById("jVal").value) || 0;
      const k = parseFloat(document.getElementById("kVal").value) || 0;

      const i2 = i ** 2;
      const j2 = j ** 2;
      const k2 = k ** 2;

      const total = i2 + j2 + k2;
      const sqrtVal = Math.sqrt(total);
      const isPerfect = Number.isInteger(sqrtVal);

      let stepStr = `|v| = âˆš(${i}Â² + ${j}Â² + ${k}Â²)\n`;
      stepStr += `    = âˆš(${i2} + ${j2} + ${k2})\n`;
      stepStr += `    = âˆš${total}`;
      if (isPerfect) {
        stepStr += `\n    = ${sqrtVal}`;
      }

      document.getElementById("steps").textContent = stepStr;
    }

    // Default show mode
    showMode("kolom");
  </script>
</body>
</html>
